&emsp;&emsp;Ubuntu子版本号只有两个，.04和.10，.04是稳定版本，.10是测试版本。主版本号单数是短期支持版，双数是长期支持版。

[TOC]

# 1. 命令

## 1.1. more
- 格式："more FileName"；
- 查看文件FIleName的内容；
    >
        - 回车：下一行
        - 空格：翻页
        - q：退出
- 缺点：不能向前返回(看过的不能再看)；

## 1.2. less
- 格式："less FileName"；
- 查看文件FileName的内容；
    > 
        - 回车：下一行
        - 空格：翻页
        - Ctrl+b：翻页返回
        - CtrL+p：按行返回
        -  q：退出

## 1.3. head
- 格式："head FileName"，显示文件开头内容，默认10行；
- 格式："head -20 FileName"，从开头显示指定行数文件内容

## 1.4. tail
- 格式："tail FileName"，显示文件结尾内容，默认十行；
- 格式："tail -20 FileName"，显示文件结尾二十行的内容；

## 1.5. cd
- "cd -"：在最近使用的两个目录之间来回切换；
- "cd ~"：切到家目录；
- "cd"：切到家目录；

## 1.6. ls
- 格式："ls -l"
  >
        - 1：文件类型；
        - 2：所有者权限；
        - 3：所属组权限；
        - 4：其他人权限；
        - 5：文件硬链接数；
        - 6：所有者；
        - 7：所属组；
        - 8：存储空间（目录固定4096，不包含内部文件和子目录文件，设备文件该字段被主次设备号代替）；
        - 9：创建日期或最后修改日期；
        - 10：文件名

## 1.6. sudo su
- Ubuntu中使用该命令切到root用户，用exit退出用户目录；

## 1.7. tree
- 该命令需要安装，被系统自带命令；
- 树状罗列当前目录下所有文件；

## 1.8. du
- 查看目录空间使用情况；

## 1.9. df
- 查看磁盘使用情况；
- 多使用选项"-h"；

## 1.10. wc
- 获取**文本文件**信息，包括行数、单词数和字符数；

## 1.11. od
- 获取**二进制文件**信息；
- 多使用选项"-t"：
  >
      - c：ASCII字符
      - d：有符号十进制
      - f：浮点数
      - o：八进制
      - u：无符号十进制
      - x：十六进制

## 1.12. which
- 在PATH环境变量指定的路径中查看命令所在路径；
- "cd"命令是shell内建命令，不能使用which命令；

## 1.13. who&whoami&who am i

### 1.13.1. who
- 显示当前真正登录系统中的用户；

### 1.13.2. whoami
- 显示当前用户的用户名(有效用户ID)；

### 1.13.3. who am i
- 显示登录时的用户名，相当于who -m

## 1.14. chmod
- 格式："chmod [who] [+/-/=] [mode]"
- who可选项：
  > 
        - a：所有人（默认就是a）；
        - u：文件所有者；
        - g：文件所有组；
        - o：其他人； 
- mode可选项
  > 
        - r：读权限(对应数字4)；
        - w：写权限(对应数字2)；
        - x：执行权限（对应数字1）
        - -: 数字表示权限的情况下代表没有某项权限，数字表示法也可以执行"减权限"；

## 1.15. chown
- 格式："chown user FileName"；
- 修改文件所有者；
- 格式："chown user:group FileName"，将文件FileName的所有者修改为user，所属组修改为group；
- linux中文件所有者并不一定属于文件所属组，所属组有操作文件的权限；

## 1.16. chgrp
- 格式："chgrp group FileName"；
- 修改文件所属组；

## 1.17. find
- 格式："find Path -name FileName"，查找文件在哪；
- 格式："find Path -size +/-10M"，文件大小查找；
- 格式："find Path -size +10k -size -100k",文件大小范围查找；
- 格式："find Path -type f/c/d/l/p"，按文件类型查找，"f"代表普通文件类型，这个时候不是采用"-"；
- 可以使用通配符："*"、"?"、"."等；

## 1.18. grep
- 格式："grep -r "str" Path"；
- 查找包含某字符串的文件；
- grep查找的时候会占用一个进程，如果用ps查进程的时候，结果只有一条，那说明是没有相关进程；

## 1.19. mount&umount

### 1.19.1. mount
- 格式："mount DevName Path"；
- 挂载目录有media(自动挂载)和mnt(手动挂载)，当然也可以挂载到别的目录；
- 检测设备：sudo fdisk -l(查看设备文件名)
- 磁盘命名规则：
  > 
        - sd(SCSI设备);
        - hd(Hard Disk硬盘)
        - fd(Floppy Disk软盘)
        - mmcblk
- 分区：
    >
        - 主分区(最多四个);
        - 扩展分区(用于创建逻辑分区，逻辑分区第一个是sdx5开始); 
- 挂载应该是挂载到空目录，否则会覆盖原先内容；

### 1.19.2. umount
- 格式："sudo umount PathName/AbsDevName"；
- 不要在要卸载的路径内执行卸载操作，会提示busy；

## 1.20. lsblk VS fdisk

### 1.20.1. lsblk

### 1.20.2. fdisk

## 1.21. 压缩和解压缩

### 1.21.1. tar
- 格式："tar czvf xxx.tar.gz DirName"；
- 格式："tar xjvf xxx.tar.bz2 [-C Path]"；
- tar命令只是**打包**文件，不会压缩文件；
- 参数：
  > 
        - c：打包
        - x：解包
        - v：显示提示信息
        - f：指定压缩后文件名字
        - z：使用gzip压缩(.gz)
        - j：使用bzip2压缩(.bz2) 

### 1.21.2. rar
- 格式："rar a 压缩后文件名 被压缩文件和目录"；
- 格式："rar x 压缩后文件名 [解压目录]"；
- rar是windows中最常用的一种压缩格式；
- rar压缩可以不使用"-r"选项；
- 要使用rar需要安装；
- 不需要添加文件后缀，rar会自动添加；

### 1.21.3. zip
- "zip 压缩后文件名 被压缩文件和目录"；
- "unzip 压缩后的文件名 [-d Path]"；- 不需要添加后缀名，压缩之后会自动添加；
- zip在压缩目录的时候需要添加参数"-r"；

## 1.22. ps
- 查看整个系统内部所运行的进程状况；
- 通过“ps aux | grep xxx”过滤要显示的进程；
- 参数：
    >
        - a：当前系统所有用户的进程
        - u：查看进程所有者及其他信息
        - x：显示没有控制终端的进程 

## 1.23. kill
- "kill -l"，查看信号；
- "kill -信号(值/字符串) 进程号"，给进程发送信号，多数情况会杀死进程；

## 1.24. top
- 相当于window的任务管理器

## 1.25. env&printenv&...
- 查看当前进程的环境变量；
- 格式"key = value;value;...";

## 1.26. ifconfig
- 查看ip；
- eth0是第一块网卡；
- mac地址唯一；

## 1.27. ping
- 查看网络是否通；
- linux下的ping不加参数不会主动结束("-c")；

## 1.28. nslookup
- 查看域名对应的IP；

## 1.29. 用户管理

### 1.29.1. 添加用户

#### 1.29.1.1. adduser
- adduser实际上是一个脚本；
- "sudo adduser UserName"，添加用户；
- 用户名不能包含大写字母；

#### 1.29.1.2. useradd
- useradd是一个命令；
- 需要后续再设置用户密码；
- "sudo useradd -s /bin/bash -g GroupName -d 绝对Path -m UserPathName"
    >
        - s：指定新用户登陆时shell类型；
        - g：指定所属组，组必须已经存在(groupadd命令)；
        - d：用户家目录；
        - m：家目录不存在时自动创建；

### 1.29.2. 添加用户组
- "sudo groupadd GroupName"

### 1.29.3. 删除用户

#### 1.29.3.1. deluser
- "sudo deluser UserName"

#### 1.29.3.2. userdel
- "sudo userdel -r UserName"，"-r"指把用户主目录也删除；

## 1.30. su
- "su UserName"，普通用户间切换
- "sudo su"，切换至root用户
- "exit"，退出切换到的用户

## 1.31. passwd
- 给用户设置或修改密码；
- "sudo passwd UserName"，给普通用户设置密码；
- "sudo passwd"，给root用户设置密码；
- "sudo passwd root"，给root用户设置密码；
- "passwd"，修改当前用户的密码；
- **/etc/passwd文件**内可以查看有哪些用户；

## 1.32. echo
- 回显普通数据："echo "str""；
- 回显环境变量：echo $PATH；
- 显示上一次程序退出值："echo \$?"
  > 
        - "$"取值的意思
        - "?"最近一次退出程序的返回值

## 1.33. alias
- 查看或设置别名；
- "alias"：查看别名；
- "alias SrcName='DescName'"：设置别名(临时有效)；
- 修改.bashrc文件可以永久有效别名；  

## 1.34. man
- 查看帮助文档
- 格式："man n Name"，"n"代表man帮助文档的章节；
- "man 命令/函数/等"：查看帮助文档；
- "man man"：查看帮助文档本身；
  > 
        1：可执行程序或shell命令
        2：系统调用(内核提供的函数)
        3：库调用(程序库中提供的函数)
        4：特殊文件(通常位于/dev)
        5：文件格式和规范(/etc/passwd等)
        6：游戏
        7：杂项
        8：系统管理命令
        9：内核例程

## 1.35. nm
- 查看可执行文件，静态库，动态库内部的符号(变量名、函数名等)；

## 1.36. file
- 查看文件类型；

## 1.37. strace
- "strace ExeFileName"
- 可追踪执行文件在执行中使用的系统调用有什么；

## 1.38. time
- "time ExeFileName"
- 可执行程序结束时统计执行时间，包括:
    > 
      - 真实执行时间
      - 内核空间执行时间
      - 用户空间执行时间；
        实际执行时间 = 内核空间执行时间 + 用户空间执行时间 + 等待时间(等待CPU、内存、屏幕等)

# 2. 终端

## 2.1. 命令提示符
    "当前登陆用户" + "@" + "主机名" + ":" + "当前路径" + "$"
    "当前登陆用户" + "@" + "主机名" + ":" + "当前路径" + "#"
      - @：相当于at(在)；
      - ~：代表家目录；
      - $：普通用户；
      - #：超级用户；

## 2.2. 常用快捷键
    - "Ctrl + Alt +t"：打开终端；
    - "Ctrl + Shift + t"：打开标签页；
    - "Ctrl + d"：关闭终端；
    - "Tab"：可补齐命令或路径；
    - "Ctrl + l"：清屏；
    - "Ctrl + r"：快速检索历史命令；在旧的历史命令上；
    - "Ctrl + a"：光标移动到最前；
    - "Ctrl + e"：光标移动到最后；
    - "Esc + b"：移动到当前单词头；
    - "Esc + f"：移动到当前单词尾；
    - "Ctrl + u"：光标前的字符都删除；
    - "Ctrl + w"：光标前单词删除；
    - "Ctrl + k"：光标后的字符都被删除；
    - "Ctrl + y"：黏贴被u,w,k删除的字符串；
    - "Ctrl + t"：交换光标位置前的两个字符；
    - "Esc + t"：交换光标相邻单词位置；  

## 2.3. 不常用快捷键
    - "Ctrl + h"：光标删除前一个字符；
    - "Ctrl + d"：光标删除后一个字符；
    - "Ctrl + b"：光标按照一个字符向前移动；
    - "Ctrl + f"：光标按照一个字符向后移动；
    - "Ctrl + P"：一条条往旧的方向返回历史命令；
    - "Ctrl + N"：一条条往新的方向返回历史命令，前提是已经

# 3. vim编辑器

## 3.1. 基础
- 系统配置文件：/etc/vim/vimrc
- 用户配置文件：~/.vim/vimrc
- 三种工作模式：
    >
        命令模式；
        编辑模式；
        末行模式；

## 3.2. 可视模式
- 当需要删除或复制某一行中的部分内容时使用可视模式；
- 可视模式下不会复制回车换行；
- 跳到要进入可视模式的位置，按“v”进入可视模式，按“hjkl”选择内容，再按“d”或“y”删除或复制；

## 3.3. 分屏操作
- sp FileName：水平分屏
- vsp FileName：垂直分屏
- Ctrl+w+w：切换屏幕
- wall：保存全部
- qall:退出全部

## 3.4. 末行模式
- 直接键入数字跳转到对应行；
- 替换：
    >
        - 切到对应行，再进入末行模式，输入"s/SrcStr/DescStr"回车，替换该行第一个;
        - 切到对应行，再进入末行模式，输入"s/SrcStr/DescStr/g"回车，替换该行所有;
        - "%s/SrcStr/DescStr/g"替换文件内所有；
        - "LineStart,LineEnds/SrcStr/DescStr/g"替换文件内某几行；
- 执行命令：":!命令"
- 删除从windows拷贝文件到ubuntu中多了的"^M":
    > 
        使用vi编辑末行模式替换：
        :%s/^M/\r/g
        用来把^M换成回车，注意的是^M要使用CTRL-V CTRL-M生成，而不是直接键入^M

## 3.5. 快捷键
- h
- j
- k
- l
- Ctrl+b
- Ctrl+f
- $
- 0
- dd
- ndd
- yy
- nyy
- p：粘贴到所在行的下一行
- P：粘贴到所在行（大写P）；
- G
- ngg
- gg
- x
- X
- dw
- d0
- d$或D
- u
- Ctrl+r:反撤销；
- /：查找，向下查找，(n,N切换查找到的内容)
- ?:查找，向上查找，(n,N切换查找到的内容)
- #：移到关键字，按"#"高亮该关键字，n,N切换；
- r:命令模式下单字符替换；
- \>>：向右缩进
- \<<：向左缩进
- shift+k:跳到关键字的man文档中(默认第一章，可在跳转前按下章节数字)；
- ZZ：命令模式下保存退出
- x或wg：末行模式下保存退出；
- %：在结构体开始和结束位置切换；
- gg=G：排版(格式化代码)，也可以line1+gg+=+line2+gg排版这个区间
- [d：用于找到关键字的定义；

# 4. linux目录结构
- /：根目录；
- /usr：用户应用程序和文件存放目录；
- /usr/bin:普通用户使用的应用程序；
- /usr/sbin:管理员用户使用的程序和守护程序；
- /usr/src：内核源码；
- /bin：普通可执行程序目录；
- /home：存放所有普通用户的家目录；
- /boot：启动相关文件；
- /dev：设备文件；
- /etc：配置文件；
- /lib：动态链接共享库；
- /media：U盘，光驱等设备自动挂载目录；
- /mnt：用户挂载目录；
- /root：超级用户主目录；
- /sbin：管理员使用的命令等；
- /proc：虚拟目录，内存映射，直接获取内存上系统信息，或在内存上直接操作；
- /sys：挂载sysfs文件系统；
    > 
        - sysfs文件系统，直观反映内核设备树；
        - proc文件系统，进程信息；
        - devfs文件系统，设备信息；
        - devpts文件系统，伪终端；
- /tmp：存放临时文件；
- /var:日志目录；
- /opt：软件安装目录；
- /lost+found：系统非法关机时使用，用户无法操作；

# 5. 文件