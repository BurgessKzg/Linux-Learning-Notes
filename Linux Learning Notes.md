[TOC]
# 1. 基础操作
&emsp;&emsp;Ubuntu子版本号只有两个，.04和.10，.04是稳定版本，.10是测试版本。主版本号单数是短期支持版，双数是长期支持版。
## 1.1. 命令
&emsp;&emsp;Shell是命令解析器，shell是Unix的解析器，Bash是Linux的解析器，由同一个人编写，Linux也称Shell解析器。它的本质是根据键入的命令调用不同的程序来执行不同操作。
### 1.1.1. more
- “more "FileName"”
- 查看文件FileName的内容，回车下行，空格翻页，“q"退出；
- 缺陷是不能返回到前面；
### 1.1.2. less
- “less "FileName"”
- 查看文件FileName的内容，回车下行，空格翻页，"Ctrl + b"翻页返回，“Ctrl + p”按行返回，"q"退出；
### 1.1.3. head
- "head FileName"，等价于“head -10 FileName”
- 默认显示文件的前十行；
### 1.1.4. tail
- "tail FileName"，等价于“tail -10 FileName”
- 默认显示文件的后十行；
### 1.1.5. pwd
...
### 1.1.6. mv
...
### 1.1.7. cp
...
### 1.1.8. sudo su
- 在Ubuntu下切换到root用户，退出用“exit”；
### 1.1.9. cd
- "cd -"：在最近使用的两个目录之间切换；
- “cd ~”：进入家目录；
- “cd ”：也是进入家目录；
### 1.1.10. ls -l
@import "Picture001_ls_-l.jpg"
- 1：文件类型；
- 2：所有者权限；
- 3：所属组权限；
- 4：其他人权限；
- 5：文件硬链接数；
- 6：所有者；
- 7：所属组；
- 8：存储空间（目录固定4096，不包含内部文件和子目录文件）；
- 9：创建日期或最后修改日期；
- 10：文件名
### 1.1.11. tree
- "tree"命令不是自带的，使用需要安装；
- 树状结构罗列目录下的所有文件；
### 1.1.12. du
- 查看目录使用情况；
- 可加选项显示，多用“-h”
### 1.1.13. df
- 查看磁盘使用情况；
- 可加选项显示，多用“-h”
### 1.1.14. wc
- 获取**文本文件**信息（行，单词，字符）；
### 1.1.15. od
- 获取**二进制文件**信息；
- “-t”指定数据的显示格式；
    - c：ASCII字符
    - d：有符号十进制
    - f：浮点数
    - o：八进制
    - u：无符号十进制
    - x：十六进制
### 1.1.16. which
- 在PATH环境变量中指定的路径中查看命令所在路径；
- “cd”命令是shell内建命令，不能使用which；
### 1.1.17. who相关
- who 显示当前真正登录系统中的用户；
- whoami；显示的是当前用户下的用户名（有效用户ID）；
- who am i：显示的是登录时的用户名，相当于who -m；
### 1.1.18. chmod
- chmod [who] [+/-/=] [mode]
    - who可选项
        - a：所有人（默认就是a）；
        - u：文件所有者；
        - g：文件所有组；
        - o：其他人；
    - mode可选项
        - r：读权限（对应数字4）；
        - w：写权限（对应数字2）；
        - x：执行权限（对应数字1）；
        - 在数字表示权限的情况下“-”代表没有权限；
        - 数字表示法也可以执行“减权限”；
### 1.1.19. chown
- 修改文件所有者
- “chown user FileName”，将文件FileName的所有者修改为user；
- “chown user:group FileName”，将文件FileName的所有者修改为user,所属组修改为group；
- linux中文件所有者并不一定属于文件所属组，所属组有操作文件的权限；
- 使用时加“sudo”
### 1.1.20. chgrp
- 修改文件所属组
- “chgrp group FileName”
- 使用时加“sudo”；
### 1.1.21. find
- “find Path -name “FileName” ”，文件名查找；
- “find Path -size +/-10M”，文件大小查找；
- "find Path -size +10k -size -100k"，大小范围查找；
- “find Path -type f/c/d/l/p”,按照文件类型查找(f代表普通文件，不是"-")；
- 通配符“*”代表多个字符；
- 通配符“?”代表一个字符；
### 1.1.22. grep
- 查找那个文件包含某个字符串；
- “grep -r  “str” Path”；
- grep查找的时候会占用一个进程，如果用ps查进程的时候，结果只有一条，那说明是没有相关进程；
### 1.1.23. mount
- "mount DevName Path";
- 挂载目录有media（自动挂载）和mnt（手动挂载）；
- 检测设备：sudo fdisk -l（查看设备文件名）
- 磁盘命名规则
    - 磁盘分类：sd(SCSI设备)、hd(Hard Disk硬盘)、fd(Floppy Disk软盘)；
    - 分区：主分区（最多四个）和扩展分区（用于创建逻辑分区，逻辑分区第一个是sdx5开始）
- 挂载应该是挂载到空目录，否则会覆盖原先内容；
### 1.1.24. umount
- “sudo umount PathName”
- 不能在要卸载的路径内执行卸载操作；
### 1.1.25. lsblk
**需要添加介绍**
### 1.1.26. 压缩和解压缩
- tar
    - tar命令是用来**打包**文件的，不能压缩；
    - “tar czvf xxx.tar.gz”，打包；
    - “tar xjvf xxx.tat.bz2 [-C Path]”，解包；
    - 参数
        - c：打包
        - x：解包
        - v：显示提示信息
        - f：指定压缩后文件名字
        - z：使用gzip压缩(.gz)
        - j：使用bzip2压缩(.bz2)
- rar
    - windows中最常使用的一种压缩格式；
    - 需要安装这个软件
    - 不需要添加后缀，压缩之后会自动添加；
    - “rar a 压缩后的文件名 被压缩的文件和目录”
    - “rar x 压缩后的文件名 \[解压的目录]”
    - rar压缩的时候可以不加参数“-r”
- zip 
    - "zip 压缩后的文件名 被压缩的文件和目录"，压缩；
    - “unzip 压缩后的文件名 [-d Path]”,解压；
    - 不需要添加后缀名，压缩之后会自动添加；
    - zip在压缩目录的时候需要添加参数“-r”；
### 1.1.27. ps
- 查看整个系统内部所运行的进程状况；
- 通过“ps aux | grep xxx”过滤要显示的进程；
- 参数：
    - a：当前系统所有用户的进程
    - u：查看进程所有者及其他信息
    - x：显示没有控制终端的进程 
### 1.1.28. kill
- “kill -l”，查看信号；
- “kill -信号(值/字符串) 进程号”，杀死进程；
### 1.1.29. top
- 相当于window的任务管理器
### 1.1.30. env
- 查看当前进程的环境变量；
- 格式“key = value;value;...”;
### 1.1.31. ifconfig
- 查看ip；
- eth0是第一块网卡；
- mac地址唯一；
### 1.1.32. ping
- 查看网络是否通；
- linux下的ping不加参数不会主动结束（"-c"）；
### 1.1.33. nslookup
- 查看域名对应的IP；
### 1.1.34. 添加用户
#### 1.1.34.1. adduser
- adduser实际上是一个脚本；
- “sudo adduser UserName”，添加用户；
- 用户名不能包含大写字母；
#### 1.1.34.2. useradd
- useradd是一个命令；
- 需要后续再设置用户密码；
- “sudo useradd -s /bin/bash -g GroupName -d 绝对Path -m UserPathName”
    - s：指定新用户登陆时shell类型；
    - g：指定所属组，组必须已经存在(groupadd命令)；
    - d：用户家目录；
    - m：家目录不存在时自动创建；
### 1.1.35. 添加用户组
- “sudo groupadd GroupName”
### 1.1.36. 删除用户
#### 1.1.36.1. deluser
- “sudo deluser UserName”
#### 1.1.36.2. userdel
- “sudo userdel -r UserName”，“-r”指把用户主目录也删除；
### 1.1.37. su
- “su UserName”，普通用户间切换
- “sudo su”，切换至root用户
- “exit”，退出切换到的用户
### 1.1.38. passwd
- 给用户设置或修改密码；
- “sudo passwd UserName”，给普通用户设置密码；
- “sudo passwd”，给root用户设置密码；
- “sudo passwd root”，给root用户设置密码；
- “passwd”，修改当前用户的密码；
- **/etc/passwd文件内可以查看有哪些用户；**
### 1.1.39. echo
- 回显数据；
- 普通数据：echo 字符串；
- 显示环境变量：echo $PATH；
- 显示上一次程序退出值："echo \$?","$"取值的意思，“？”最近一次退出程序的返回值；
### 1.1.40. alias
- 查看或设置别名
- alias：查看别名；
- “alias SrcName='DescName'”：设置别名（.bashrc可以永久有效）；
### 1.1.41. man
- 查看帮助文档
- 语法：“man n Name”，n代表man帮助文档的章节；
- “man 命令”：查看命令的帮助文档；
- “man man”：查看帮助文档本身；
    - 1：可执行程序或shell命令
    - 2：系统调用（内核提供的函数）
    - 3：库调用（程序库中提供的函数）
    - 4：特殊文件（通常位于/dev）
    - 5：文件格式和规范（如：/etc/passwd)
    - 6：游戏
    - 7：杂项
    - 8：系统管理命令
    - 9：内核例程
### 1.1.42. nm
- 查看可执行文件，静态库，动态库内部的符号（变量名、函数名等）；
## 1.2. 终端
### 1.2.1. 操作
- “命令提示符”
    - “当前登陆用户”+“@”+“主机名”+“:”+“当前路径”+“$”
    - “当前登陆用户”+“@”+“主机名”+“:”+“当前路径”+“#”
    - @相当于at（在）；
    - “~”代表家目录；
    - "$"：普通用户；
    - “#”：超级用户；
### 1.2.2. 快捷键
#### 1.2.2.1. 常用
- “Ctrl + Alt +t”：打开终端；
- “Ctrl + Shift + t”：打开标签页；
- “Ctrl + d”：关闭终端；
- “Tab”：可补齐命令或路径；
- "Ctrl + l"：清屏；
- “Ctrl + r”：快速检索历史命令；在旧的历史命令上；
- “Ctrl + a”：光标移动到最前；
- “Ctrl + e”：光标移动到最后；
- "Esc + b"：移动到当前单词头；
- “Esc + f”：移动到当前单词尾；
- “Ctrl + u”：光标前的字符都删除；
- “Ctrl + w”：光标前单词删除；
- “Ctrl + k”：光标后的字符都被删除；
- “Ctrl + y”：黏贴被u,w,k删除的字符串；
- “Ctrl + t”：交换光标位置前的两个字符；
- “Esc + t”：交换光标相邻单词位置；
#### 1.2.2.2. 不常用
- “Ctrl + h”：光标删除前一个字符；
- “Ctrl + d”：光标删除后一个字符；
- “Ctrl + b”：光标按照一个字符向前移动；
- “Ctrl + f”：光标按照一个字符向后移动；
- “Ctrl + P”：一条条往旧的方向返回历史命令；
- “Ctrl + N”：一条条往新的方向返回历史命令，前提是已经
## 1.3. Vim
### 1.3.1. 配置
- 系统配置文件：/etc/vim/vimrc
- 用户配置文件：~/.vim/vimrc
### 1.3.2. 操作
- 三种工作模式：命令模式，编辑模式，末行模式；
#### 1.3.2.1. 可视模式
- 当需要删除或复制某一行中的部分内容时使用可视模式；
- 可视模式下不会复制回车换行；
- 跳到要进入可视模式的位置，按“v”进入可视模式，按“hjkl”选择内容，再按“d”或“y”删除或复制；
#### 1.3.2.2. 分屏
- sp FileName：水平分屏
- vsp FileName：垂直分屏
- Ctrl+w+w：切换屏幕
- wall：保存全部
- qall:退出全部
#### 1.3.2.3. 末行模式
- 直接键入数字跳转到对应行；
- 单行替换：先切到对应行，再进入末行模式，输入“s/SrcStr/DescStr”回车，只替换了第一个，要替换改行所有的要使用“s/SrcStr/DescStr/g”;
- 文件替换：“%s/SrcStr/DescStr/g”
- 某几行替换：“LineStart,LineEnds/SrcStr/DescStr/g”
- 执行命令：“:!命令”
### 1.3.3. 快捷键
- h
- j
- k
- l
- Ctrl+b
- Ctrl+f
- $
- 0
- dd
- ndd
- yy
- nyy
- p：粘贴到所在行的下一行
- P：粘贴到所在行（大写P）；
- G
- ngg
- gg
- x
- X
- dw
- d0
- d$或D
- u
- Ctrl+r:反撤销；
- /：查找，向下查找，(n,N切换查找到的内容)
- ?:查找，向上查找，(n,N切换查找到的内容)
- #：移到关键字，按"#"高亮该关键字，n,N切换；
- r:命令模式下单字符替换；
- >>：向右缩进
- <<：向左缩进
- shift+k:跳到关键字的man文档中(默认第一章，可在跳转前按下章节数字)；
- ZZ：命令模式下保存退出
- x或wg：末行模式下保存退出；
## 1.4. 目录结构
- /：根目录；
- /usr：用户应用程序和文件存放目录；
- /usr/bin:普通用户使用的应用程序；
- /usr/sbin:管理员用户使用的程序和守护程序；
- /usr/src：内核源码；
- /bin：普通可执行程序目录；
- /home：存放所有普通用户的家目录；
- /boot：启动相关文件；
- /dev：设备文件；
- /etc：配置文件；
- /lib：动态链接共享库；
- /media：U盘，光驱等设备自动挂载目录；
- /mnt：用户挂载目录；
- /root：超级用户主目录；
- /sbin：管理员使用的命令等；
- /proc：虚拟目录，内存映射，直接获取内存上系统信息，或在内存上直接操作；
- /sys：sysfs文件系统，直观反映内核设备树；
    - proc文件系统（进程信息）；
    - devfs文件系统（设备信息）；
    - devpts文件系统（伪终端）；
- /tmp：存放临时文件；
- /var:日志目录；
- /opt：软件安装目录；
- /lost+found：系统非法关机时使用，用户无法操作；
## 1.5. 文件
### 1.5.1. 普通文件
- 白色
- “-”
### 1.5.2. 目录
- 蓝色
- “d”
- 目录必须有执行权限才能进入
### 1.5.3. 设备文件
- 黄色
#### 1.5.3.1. 字符设备文件
- “c”
#### 1.5.3.2. 块设备文件
- "b"
#### 1.5.3.3. 管道
- "p"
### 1.5.4. 链接文件
- 青色
- "l"
#### 1.5.4.1. 软链接
- 软连接是另一个链接文件（ls -l时不同inode）；
- 软连接可以跨文件系统；
- 软链接可以链接不存在的文件，访问时同时创建；
- 软链接可以链接目录；
- “ln -s”创建软链接；
- 删除软链接对源文件和硬链接无影响；
- 删除源文件，软链接失效；
- 需要使用绝对路径创建软链接，这样的软链接可移动，相对路径的软链接只能在当前路径使用；
#### 1.5.4.2. 硬链接
- 硬链接是源文件的别名（ls -i时inode相同），不占用磁盘空间;
- 硬链接不可以跨文件系统；
- 硬链接不可以链接不存在的文件；
- 硬链接不可以链接目录；
- “ln”默认创建硬链接；
- 删除硬链接对源文件和软链接无影响；
- 删除源文件，硬链接无影响；
- 所有硬链接和源源文件删除才能真正删除文件；
- 硬链接不需要绝对路径；
### 1.5.5 socket文件
- “s”
### 1.5.6. 可执行文件
- 绿色
### 1.5.7. 其他文件
- 灰色
## 1.6. 软件安装
### 1.6.1. 在线安装
#### 1.6.1.1. apt-get
- 安装：sudo apt-get install SoftwareName -- 在线下载安装；
- 移除：sudo apt-get remove SoftwareName
- 更新：sudo apt-get update -- 更新**软件列表**(软件列表放的是软件的名字和下载地址，可以指定服务器来更新软件列表)；
- 清理所有软件安装包: sudo apt-get clean（实际清理的是: /var/cache/apt/archives 目录下的 .deb 文件）；
#### 1.6.1.2. aptitude
- 安装：sudo aptitude install SoftwareName
- 重新安装：sudo aptitude reinstall SoftwareName
- 更新：sudo apt-get update
- 移除：sudo aptitude remove SoftwareName
- 显示状态：sudo aptitude show SoftwareName
### 1.6.2. deb包安装
- 安装：sudo dpkg -i xxx.deb
- 删除：sudo dpkg -r xxx
### 1.6.3. 源码安装
- 1. 解压缩源代码包
- 2. 进入到安装目录：cd dir
- 3. 检测文件是否缺失，创建Makefile，检测编译环境： ./configure
- 4. 编译源码，生成库和可执行程序：make
- 5. 把库和可执行程序，安装到系统目录下：sudo make install
- 6. 删除和卸载软件：sudo make distclean
- 7. 上述安装步骤并不是绝对的，应该先查看附带的 README 文件
## 1.7。 vsftpd（ftp服务器）
### 1.7.1. 安装
- “sudo apt-get install vsftpd”；
- 客户端，服务器都会被安装；
- ftp服务会随开机自动启动；
### 1.7.2. 配置
- 配置文件：/etc/vsftpd.conf；
- 配置选项：
    - “write_enable=YES”指定是否拥有写权限
    - “anon_root=/home/burgesskzg/MyFtp”指定匿名用户ftp根目录，原先默认目录（/srv/ftp）失效；
    - “anonymous_enable=YES”指定是否允许使用匿名用户；
    - “anon_upload_enable=YES”指定匿名用户是否有上传权限；
    - “anon_mkdir_write_enable=YES”指定是否允许匿名用户创建目录；
### 1.7.3. 重启
- 修改配置文件之后需要重启服务器；
- “sudo service vsftpd restart”；
### 1.7.4. 客户端登陆
#### 1.7.4.1. 实名用户登陆
- 登陆指令：“ftp 服务器IP->回车->服务器用户名->回车->服务器登陆密码”
- 缺点：
    - 用户可以访问任意目录，破坏服务器；
    - 登陆密码泄露，不安全；
#### 1.7.4.2. 匿名用户登陆
- 登陆指令：“ftp 服务器IP->回车->anonymous->回车”
- 匿名用户登陆不需要密码，直接回车；
- 匿名账号固定为：anonymous；
- 匿名用户只能访问指定目录，指定目录配置方法如下：
    - “sudo mkdir /home/burgesskzg/MyFtp/anonyDir”,在ftp根目录下创建匿名用户的指定目录；
    - "sudo chown ftp:nogroup /home/burgesskzg/MyFtp/anonyDir”修改指定目录的用户为<font color=red>ftp用户</font>，组为空组（nogroup代表空组）；
    - “chmod 777 anonyDir”，修改指定目录的权限，否则无法访问；
### 1.7.4. 上传下载
- “put FileName”上传文件；
- “get FileName”下载文件；
- ftp自带客户端不能传输目录（可以打包后传输）；
### 1.7.5. 退出
- quit，bye，exit都可以退出；
### 1.7.6. lftp客户端
- 该客户端可以上传下载目录；
#### 1.7.6.1. 安装
- sudo apt-get install lftp
#### 1.7.6.2. 登陆
- 实名登陆：“lftp UserName@服务器IP->回车->服务器密码”
- 匿名登陆：“lftp 服务器IP->回车->login”
#### 1.7.6.3.上传下载
 - put：上传文件
 - get：下载文件
 - mput：上传多个文件
 - mget：下载多个文件
 - “mirror –R”：上传整个目录及其子目录
 - mirror：下载整个目录及其子目录
### 1.7.7. 疑问
1. 服务器实名用户怎么指定？
2. ftp服务器怎么给客户指定用户名和密码？密码怎么设置为临时密码，过一段时间就自动过期？
3. 在普通用户下安装ftp服务器，那普通用户和ftp用户的关系？
## 1.8. NFS服务器
&emsp;&emsp;网络文件系统，网络中的计算机可以共享文件，类似windows中的共享文件夹。
### 1.8.1. 安装
- sudo apt-get install nfs-kernel-server
### 1.8.2. 配置
- 先创建共享目录；
- 修改配置文件，添加“共享目录路径 * (rw,sync)”,"*"代表IP地址，这样写是因为有些服务器可能不支持;
    - ro：只读
    - rw：读写
    - sync：文件同步到磁盘，不在内存中长久缓存；
    - async：与sync相反；
    - no_root_squash：登入NFS主机，使用共享目录时相当于目录的拥有者。root用户对于这个目录具有root权限，不安全，不建议使用；
    - root_squash：登入NFS主机，使用共享目录时相当于目录的拥有者。root用户使用共享目录权限被压缩为匿名使用者，它的UID和GID都会变成nobody；
    - all_squash：所有用户的身份都会被压缩成为匿名使用者（nobody）；
- 重启服务器：“sudo service nfs-kernel-server restart”；
### 1.8.3. 客户端访问
- 客户端时通过挂载的方式访问目录的；
- “mount 服务器IP:共享目录路径 /mnt”，“mnt”是挂载到本地的路径，可以修改；
- 接下来就可以在本地/mnt路径下访问NFS服务器共享路径下的文件了
## 1.9. SSH服务器
### 1.9.1. 安装
- 安装：“sudo atp-get install openssh-server”
- 查看：“sudo aptitude show openssh-server”
### 1.9.2. 登陆
- “ssh UserName@服务器IP”；
- 登陆过程确认的时候只能写“yes”或“no”，不能用“y”和“n”代替；
### 1.9.3. 退出
- logout
### 1.9.4 scp命令
- scp命令是超级拷贝的意思；
- 使用之前openssh-server服务器必须已经安装；
- “scp -r DescUserName@DescHostIP:/DescFile绝对路径 /本地路径”，确认的时候只能输入“yes”；
- “-r”递归拷贝，拷贝目录的时候使用；
## 1.10. 关机重启操作
### 1.10.1. poweroff

### 1.10.2. reboot

### 1.10.3. shutdown
#### 1.10.3.1. 参数
- “-t 秒数”: 设定切换runlevel之前的时间（警告和删除延迟时间）；
- “-k”: 只发送警告信息, 不真关机；
- “-r”: 重启；
- “-h”: shutdown之后关机；
- “-n”: 不经过init进程,shutdown指令直接关机(不建议使用)；
- “-f”: 重新开机时, 跳过fsck指令,不检查档案系统；
- “-F”: 重新开机时, 强迫做fsck检查；
- “-c”: 取消正在shutdown的动作，必须切换至其它tty才能执行此命令；
#### 1.10.3.2. 举例
- “shutdown -r now”：立刻重新开机；
- “shutdown -h now”：立刻关机；
- “shutdown -k now "str"”：发出警告讯息, 不真关机；
- “shutdown -t5 -r now”：立刻重新开机,在警告和删除processes之间,延迟5秒钟；
- “shutdown -h 15:66 "str"” 15:66关机；
- “shutdown -r 10 "str"”：10分钟后关机；
- “shutdown now”：切换至**单人操作模式**；
## 1.11. gcc
### 1.11.1. 编译过程
> 1. 预编译&emsp;“-E ”&emsp;“.c>.i”&emsp;&emsp;"cpp预处理器"
> 2. 编译&emsp;&emsp;"-S "&emsp;".i>.s"&emsp;&emsp;“gcc编译器”
> 3. 汇编&emsp;&emsp;"-c "&emsp;".s>.o"&emsp;&emsp;“as汇编器”
> 4. 链接&emsp;&emsp;&emsp;&emsp;&emsp;".o>exe"&emsp;“ld连接器” 
### 1.11.2. gcc参数
- "-E"：
- "-S"：
- "-c"：
- "-o"：
- "-I"：指定头文件路径，“gcc -I 头文件目录”
- "-L"：指定库的目录
- "-l"：指定库的名字(需要掐头去尾,lib和.a和.so需要去掉)
- "-D"：指定宏，“gcc -D 宏名”
- "-O"：指定是否优化程序，"gcc -O 1"，可取0~3;
- "-Wall":指定在编译的时候输出警告信息；
- "-g"：指定在可执行程序中添加调试信息；
## 1.12. 静态库
### 1.12.1. 命名规则
- 命名规则：“lib+库名+.a”；
### 1.12.2. 制作
> 1. 生成对应的.o文件（使用gcc参数“-c”）；
> 2. 将生成的.o文件打包：“ar rcs 静态库全名 所有的.o文件”；
    - ar工具不包含在gcc中；
    - r指将文件插入静态库中
    - c指创建静态库（不管库是否存在）
    - s指写入一个目标文件索引到库中，或者更新一个存在的目标文件索引
> 3. 发布，需要将库和头文件一起打包给客户；
### 1.12.3. 使用
- "nm 静态库全名/可执行文件"：可以查看库中符号(变量和函数等);
- "gcc main.c /lib/libName.a -I/include -o app"
- "gcc main.c -L /lib -l Name -I include -o app"，-l选项包括的是库的本名，非全名；
### 1.12.4. 优缺点
#### 1.12.4.1. 优点
- 可执行程序执行速度快；
- 库被链接到可执行程序中，不需要发布库；
#### 1.12.4.2. 缺点
- 库被链接到可执行程序中导致可执行程序变大；
- 静态库发生变化，程序必须重新编译；
## 1.13. 动态库
### 1.13.1. 命名规则
- 命名规则：“lib+库名+.so”；
### 1.13.1. 制作
> 1. 编译与地址无关的.o文件（gcc使用参数“-fPIC”和“-c”）；
> 2. 将生成的.o文件打包：“gcc -shared -o libName.so -I include 所有要加入到库中的.o文件”；
> 3. 发布，需要将库和头文件一起打包给客户；
### 1.13.2. 使用
- "gcc main.c /lib/libName.so -I/include -o app"
- "gcc main.c -L /lib -l Name -I include -o app"，-l选项包括的是库的本名，非全名；
- 如何指定共享库（动态库）的存放路径：
    - “ldd AppName”可以查看可执行文件在执行的时候依赖的所有动态库；
    - **动态链接器**会自动帮助我们调用需要的动态库，它会根据环境变量**XXX**中的路径来查找；
    - 方法一：将动态库放到根目录下的/lib下也可以访问，但是为了方式同名覆盖系统库，所以不建议这样操作；
    - 方法二：配置环境变量LD_LIBRARY_PATH（“export LD_LIBRARY_PATH=LibPath”），该路径在默认路径之前查找，但是这是临时设置，不能永久使用；
    - 方法三（不常用）：将方法二的语法写到家目录的.bashrc文件里(要放绝对路径)，配置完需要重启终端；
    - 方法四(推荐方法)：
        - 1. 找到动态链接器的配置文件：/etc/ld.so.conf；
        - 2. 动态库的路径写到配置文件中；
        - 3. 执行更新操作：“sudo ldconfig ”,加"-v"参数可查看信息输出；
### 1.13.3. 优缺点
#### 1.13.3.1. 优点
- 可执行程序小；
- 动态库更新不需要重新编译可执行程序；
#### 1.13.3.2. 缺点
- 执行速度相对于静态库会慢点，但差距不大；
- 发布可执行程序或更新动态库的时候需要发送动态库；
## 1.14. GDB调试
&emsp;&emsp;如果要使用gdb调试，在编译可执行程序的时候需要加选项“-g”，生成的可执行文件会比不加"-g"的要大。
- 进入gdb：“gdb 带有调试信息的可执行程序”；
- 按“l”（小些L）在gdb里查看程序的源代码；
- 按“l FileName:10”指查看文件FileName的第10行；
- 按“l FileName:FuncName”指查看文件FileName中的函数FuncName;
- 第一次查看之后，第二次继续按“l”可以往下看，第三次之后按回车就可以往下看了；
- 先查看文件，然后输入"break Line"或“b Line”打**普通断点**；
- “b Line if i==10”打**条件断点**，表示在行line上如果i等于10就进入断点；
- “i b”或"i break"或"info b"或“info break”查看断点；
- 断点打好之后按“start”开始执行，start只会执行一步，按“n”是继续执行一步，按“c”执行到断点(continue)；
- "s"进入函数体内部，再按“l”可查看函数体里的代码，也可按“b”打断点；
- 在断点停下的时候可以按“p/print var”来查看变量var的值，“ptype var”查看变量类型；
- “dispaly var”可以追踪变量的值；
- “info display”获取追踪变量的编号；
- “undispaly 追踪变量编号”删除追踪变量；
- “u”跳出当前循环，类似程序中的continue；
- “finish”跳出函数，执行之前需要去掉函数内的断点，否则出不去；
- “d 断点编号”或“del/delete 断点编号”删除断点；
- 在for循环的时候可以执行“set var i=10”代表程序已经执行到i=10；
- “quit”退出；
- “run”和“r”也是开始执行程序；
- “b”后也可以跟函数名；
- “n”不进入函数体；
## 1.15. makefile
### 1.15.1. 命名

### 1.15.2. 规则
- 三要素：
- 原则：
- 子目标和最终目标的关系：
### 1.15.3. 变量
- makefile中包含一些**自动变量**
- "$<"：
- "$@"：
- "$^"：
### 1.15.4. 函数
#### 1.15.4.1. "wildcard"

#### 1.15.4.2. "patsubst"





# 疑问
1. 为什么要修改文件的所有者或所属组？
2. tty设备，pts设备怎么理解？（字符终端，桌面终端和设备终端）
3. free命令简介
4. linux怎么安全关机？
5. export和source的区别？
6. 文件IO和系统IO的区别？
7. C库函数和系统函数的区别？